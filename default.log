2022/05/04 10:18:17 config: {myDmux [{sample_name false kafka_http map[dmux:map[batch_size:1 distributor_type:RoundRobin size:4] pending_acks:1e+06 sink:map[breaker_timeout:10s endpoint:http://localhost:8888/1.0/api/event error_threshold:2 headers:[map[name:X-Client value:go-dumx] map[name:Content-Type value:application/json]] method:POST retry_interval:100ms success_threshold:3 timeout:10s] source:map[force_restart:true kafka_version_major:2 name:source_name read_newest:true topic:test-four zk_path:localhost:2181/kafka]]}] {file map[enable_debug:true path:default.log rotation:map[compress:true retention_count:5 retention_days:90 size_in_mb:256]]}}
2022/05/04 10:18:17 Starting  kafka_http
2022/05/04 10:18:17 Connected to [::1]:2181
2022/05/04 10:18:17 Authenticated: id=72071252619558959, timeout=6000
2022/05/04 10:18:17 Re-submitting `0` credentials after reconnect
2022/05/04 10:18:26 /test-four/3//32168 after kafka source
2022/05/04 10:18:26 0.goroutine: processing message &{0xc0001223c0 false false /test-four/3//32168}
2022/05/04 10:18:26 /test-four/3//32168 before http sink
2022/05/04 10:18:26 failed in http call invoke http://localhost:8888/1.0/api/event/test-four/3//32168 Post "http://localhost:8888/1.0/api/event/test-four/3//32168": dial tcp [::1]:8888: connect: connection refused 
2022/05/04 10:18:26 worker.goroutine: sending signal 3
2022/05/04 10:18:26 retry in execute POST 	 http://localhost:8888/1.0/api/event/test-four/3//32168
2022/05/04 10:18:26 monitor.goroutine: recieved signal 3
2022/05/04 10:18:26 sink: recieved from monitor 7 http://localhost:8888/1.0/api/event/test-four/3//32168
2022/05/04 10:18:26 goroutine #1.goroutine:signal not processed
2022/05/04 10:18:26 monitor.goroutine: recieved signal 5
2022/05/04 10:18:26 goroutine #2.goroutine:signal not processed
2022/05/04 10:18:26 monitor.goroutine: recieved signal 5
2022/05/04 10:18:26 goroutine #3.goroutine:signal not processed
2022/05/04 10:18:26 monitor.goroutine: recieved signal 5
2022/05/04 10:18:26 failed in http call invoke http://localhost:8888/1.0/api/event/test-four/3//32168 Post "http://localhost:8888/1.0/api/event/test-four/3//32168": dial tcp [::1]:8888: connect: connection refused 
2022/05/04 10:18:26 worker.goroutine: sending signal 3
2022/05/04 10:18:26 monitor.goroutine: recieved signal 3
2022/05/04 10:18:26 monitor.goroutine: status of breaker is  1
2022/05/04 10:18:26 retry in execute POST 	 http://localhost:8888/1.0/api/event/test-four/3//32168
2022/05/04 10:18:26 sink: recieved from monitor 6 http://localhost:8888/1.0/api/event/test-four/3//32168
2022/05/04 10:18:36 monitor.goroutine: status of breaker is  2
2022/05/04 10:18:36 monitor.goroutine: sending signal 7 to 1 goroutines
2022/05/04 10:18:36 sink: recieved from monitor 7 http://localhost:8888/1.0/api/event/test-four/3//32168
2022/05/04 10:18:36 failed in http call invoke http://localhost:8888/1.0/api/event/test-four/3//32168 Post "http://localhost:8888/1.0/api/event/test-four/3//32168": dial tcp [::1]:8888: connect: connection refused 
2022/05/04 10:18:36 worker.goroutine: sending signal 3
2022/05/04 10:18:36 monitor.goroutine: recieved signal 3
2022/05/04 10:18:36 monitor.goroutine: status of breaker is  1
2022/05/04 10:18:36 retry in execute POST 	 http://localhost:8888/1.0/api/event/test-four/3//32168
2022/05/04 10:18:36 sink: recieved from monitor 6 http://localhost:8888/1.0/api/event/test-four/3//32168
2022/05/04 10:18:46 monitor.goroutine: status of breaker is  2
2022/05/04 10:18:46 monitor.goroutine: sending signal 7 to 1 goroutines
2022/05/04 10:18:46 sink: recieved from monitor 7 http://localhost:8888/1.0/api/event/test-four/3//32168
2022/05/04 10:18:46 failed in http call invoke http://localhost:8888/1.0/api/event/test-four/3//32168 Post "http://localhost:8888/1.0/api/event/test-four/3//32168": dial tcp [::1]:8888: connect: connection refused 
2022/05/04 10:18:46 worker.goroutine: sending signal 3
2022/05/04 10:18:46 retry in execute POST 	 http://localhost:8888/1.0/api/event/test-four/3//32168
2022/05/04 10:18:46 monitor.goroutine: recieved signal 3
2022/05/04 10:18:46 monitor.goroutine: status of breaker is  1
2022/05/04 10:18:46 sink: recieved from monitor 6 http://localhost:8888/1.0/api/event/test-four/3//32168
2022/05/04 10:18:56 monitor.goroutine: status of breaker is  2
2022/05/04 10:18:56 monitor.goroutine: sending signal 7 to 1 goroutines
2022/05/04 10:18:56 sink: recieved from monitor 7 http://localhost:8888/1.0/api/event/test-four/3//32168
2022/05/04 10:18:56 failed in http call invoke http://localhost:8888/1.0/api/event/test-four/3//32168 Post "http://localhost:8888/1.0/api/event/test-four/3//32168": dial tcp [::1]:8888: connect: connection refused 
2022/05/04 10:18:56 worker.goroutine: sending signal 3
2022/05/04 10:18:56 retry in execute POST 	 http://localhost:8888/1.0/api/event/test-four/3//32168
2022/05/04 10:18:56 monitor.goroutine: recieved signal 3
2022/05/04 10:18:56 monitor.goroutine: status of breaker is  1
2022/05/04 10:18:56 sink: recieved from monitor 6 http://localhost:8888/1.0/api/event/test-four/3//32168
2022/05/04 10:19:06 monitor.goroutine: status of breaker is  2
2022/05/04 10:19:06 monitor.goroutine: sending signal 7 to 1 goroutines
2022/05/04 10:19:06 sink: recieved from monitor 7 http://localhost:8888/1.0/api/event/test-four/3//32168
2022/05/04 10:19:06 failed in http call invoke http://localhost:8888/1.0/api/event/test-four/3//32168 Post "http://localhost:8888/1.0/api/event/test-four/3//32168": dial tcp [::1]:8888: connect: connection refused 
2022/05/04 10:19:06 worker.goroutine: sending signal 3
2022/05/04 10:19:06 monitor.goroutine: recieved signal 3
2022/05/04 10:19:06 monitor.goroutine: status of breaker is  1
2022/05/04 10:19:06 retry in execute POST 	 http://localhost:8888/1.0/api/event/test-four/3//32168
2022/05/04 10:19:06 sink: recieved from monitor 6 http://localhost:8888/1.0/api/event/test-four/3//32168
2022/05/04 10:19:16 monitor.goroutine: status of breaker is  2
2022/05/04 10:19:16 monitor.goroutine: sending signal 7 to 1 goroutines
2022/05/04 10:19:16 sink: recieved from monitor 7 http://localhost:8888/1.0/api/event/test-four/3//32168
2022/05/04 10:19:16 failed in http call invoke http://localhost:8888/1.0/api/event/test-four/3//32168 Post "http://localhost:8888/1.0/api/event/test-four/3//32168": dial tcp [::1]:8888: connect: connection refused 
2022/05/04 10:19:16 worker.goroutine: sending signal 3
2022/05/04 10:19:16 retry in execute POST 	 http://localhost:8888/1.0/api/event/test-four/3//32168
2022/05/04 10:19:16 monitor.goroutine: recieved signal 3
2022/05/04 10:19:16 monitor.goroutine: status of breaker is  1
2022/05/04 10:19:16 sink: recieved from monitor 6 http://localhost:8888/1.0/api/event/test-four/3//32168
2022/05/04 10:19:26 monitor.goroutine: status of breaker is  2
2022/05/04 10:19:26 monitor.goroutine: sending signal 7 to 1 goroutines
2022/05/04 10:19:26 sink: recieved from monitor 7 http://localhost:8888/1.0/api/event/test-four/3//32168
2022/05/04 10:19:26 failed in http call invoke http://localhost:8888/1.0/api/event/test-four/3//32168 Post "http://localhost:8888/1.0/api/event/test-four/3//32168": dial tcp [::1]:8888: connect: connection refused 
2022/05/04 10:19:26 worker.goroutine: sending signal 3
2022/05/04 10:19:26 monitor.goroutine: recieved signal 3
2022/05/04 10:19:26 monitor.goroutine: status of breaker is  1
2022/05/04 10:19:26 retry in execute POST 	 http://localhost:8888/1.0/api/event/test-four/3//32168
2022/05/04 10:19:26 sink: recieved from monitor 6 http://localhost:8888/1.0/api/event/test-four/3//32168
2022/05/04 10:19:36 monitor.goroutine: status of breaker is  2
2022/05/04 10:19:36 monitor.goroutine: sending signal 7 to 1 goroutines
2022/05/04 10:19:36 sink: recieved from monitor 7 http://localhost:8888/1.0/api/event/test-four/3//32168
2022/05/04 10:19:36 failed in http call invoke http://localhost:8888/1.0/api/event/test-four/3//32168 Post "http://localhost:8888/1.0/api/event/test-four/3//32168": dial tcp [::1]:8888: connect: connection refused 
2022/05/04 10:19:36 worker.goroutine: sending signal 3
2022/05/04 10:19:36 retry in execute POST 	 http://localhost:8888/1.0/api/event/test-four/3//32168
2022/05/04 10:19:36 monitor.goroutine: recieved signal 3
2022/05/04 10:19:36 monitor.goroutine: status of breaker is  1
2022/05/04 10:19:37 sink: recieved from monitor 6 http://localhost:8888/1.0/api/event/test-four/3//32168
2022/05/04 10:19:47 monitor.goroutine: status of breaker is  2
2022/05/04 10:19:47 monitor.goroutine: sending signal 7 to 1 goroutines
2022/05/04 10:19:47 sink: recieved from monitor 7 http://localhost:8888/1.0/api/event/test-four/3//32168
2022/05/04 10:19:47 failed in http call invoke http://localhost:8888/1.0/api/event/test-four/3//32168 Post "http://localhost:8888/1.0/api/event/test-four/3//32168": dial tcp [::1]:8888: connect: connection refused 
2022/05/04 10:19:47 worker.goroutine: sending signal 3
2022/05/04 10:19:47 monitor.goroutine: recieved signal 3
2022/05/04 10:19:47 monitor.goroutine: status of breaker is  1
2022/05/04 10:19:47 retry in execute POST 	 http://localhost:8888/1.0/api/event/test-four/3//32168
2022/05/04 10:19:47 sink: recieved from monitor 6 http://localhost:8888/1.0/api/event/test-four/3//32168
2022/05/04 10:19:57 monitor.goroutine: status of breaker is  2
2022/05/04 10:19:57 monitor.goroutine: sending signal 7 to 1 goroutines
2022/05/04 10:19:57 sink: recieved from monitor 7 http://localhost:8888/1.0/api/event/test-four/3//32168
2022/05/04 10:19:57 failed in http call invoke http://localhost:8888/1.0/api/event/test-four/3//32168 Post "http://localhost:8888/1.0/api/event/test-four/3//32168": dial tcp [::1]:8888: connect: connection refused 
2022/05/04 10:19:57 worker.goroutine: sending signal 3
2022/05/04 10:19:57 monitor.goroutine: recieved signal 3
2022/05/04 10:19:57 monitor.goroutine: status of breaker is  1
2022/05/04 10:19:57 retry in execute POST 	 http://localhost:8888/1.0/api/event/test-four/3//32168
2022/05/04 10:19:57 sink: recieved from monitor 6 http://localhost:8888/1.0/api/event/test-four/3//32168
2022/05/04 10:20:07 monitor.goroutine: status of breaker is  2
2022/05/04 10:20:07 monitor.goroutine: sending signal 7 to 1 goroutines
2022/05/04 10:20:07 sink: recieved from monitor 7 http://localhost:8888/1.0/api/event/test-four/3//32168
2022/05/04 10:20:07 failed in http call invoke http://localhost:8888/1.0/api/event/test-four/3//32168 Post "http://localhost:8888/1.0/api/event/test-four/3//32168": dial tcp [::1]:8888: connect: connection refused 
2022/05/04 10:20:07 worker.goroutine: sending signal 3
2022/05/04 10:20:07 retry in execute POST 	 http://localhost:8888/1.0/api/event/test-four/3//32168
2022/05/04 10:20:07 monitor.goroutine: recieved signal 3
2022/05/04 10:20:07 monitor.goroutine: status of breaker is  1
2022/05/04 10:20:07 sink: recieved from monitor 6 http://localhost:8888/1.0/api/event/test-four/3//32168
2022/05/04 10:20:17 monitor.goroutine: status of breaker is  2
2022/05/04 10:20:17 monitor.goroutine: sending signal 7 to 1 goroutines
2022/05/04 10:20:17 sink: recieved from monitor 7 http://localhost:8888/1.0/api/event/test-four/3//32168
2022/05/04 10:20:17 failed in http call invoke http://localhost:8888/1.0/api/event/test-four/3//32168 Post "http://localhost:8888/1.0/api/event/test-four/3//32168": dial tcp [::1]:8888: connect: connection refused 
2022/05/04 10:20:17 worker.goroutine: sending signal 3
2022/05/04 10:20:17 monitor.goroutine: recieved signal 3
2022/05/04 10:20:17 monitor.goroutine: status of breaker is  1
2022/05/04 10:20:17 retry in execute POST 	 http://localhost:8888/1.0/api/event/test-four/3//32168
2022/05/04 10:20:17 sink: recieved from monitor 6 http://localhost:8888/1.0/api/event/test-four/3//32168
2022/05/04 10:20:27 monitor.goroutine: status of breaker is  2
2022/05/04 10:20:27 monitor.goroutine: sending signal 7 to 1 goroutines
2022/05/04 10:20:27 sink: recieved from monitor 7 http://localhost:8888/1.0/api/event/test-four/3//32168
2022/05/04 10:20:27 failed in http call invoke http://localhost:8888/1.0/api/event/test-four/3//32168 Post "http://localhost:8888/1.0/api/event/test-four/3//32168": dial tcp [::1]:8888: connect: connection refused 
2022/05/04 10:20:27 worker.goroutine: sending signal 3
2022/05/04 10:20:27 monitor.goroutine: recieved signal 3
2022/05/04 10:20:27 monitor.goroutine: status of breaker is  1
2022/05/04 10:20:27 retry in execute POST 	 http://localhost:8888/1.0/api/event/test-four/3//32168
2022/05/04 10:20:27 sink: recieved from monitor 6 http://localhost:8888/1.0/api/event/test-four/3//32168
2022/05/04 10:20:37 monitor.goroutine: status of breaker is  2
2022/05/04 10:20:37 monitor.goroutine: sending signal 7 to 1 goroutines
2022/05/04 10:20:37 sink: recieved from monitor 7 http://localhost:8888/1.0/api/event/test-four/3//32168
2022/05/04 10:20:37 failed in http call invoke http://localhost:8888/1.0/api/event/test-four/3//32168 Post "http://localhost:8888/1.0/api/event/test-four/3//32168": dial tcp [::1]:8888: connect: connection refused 
2022/05/04 10:20:37 worker.goroutine: sending signal 3
2022/05/04 10:20:37 retry in execute POST 	 http://localhost:8888/1.0/api/event/test-four/3//32168
2022/05/04 10:20:37 monitor.goroutine: recieved signal 3
2022/05/04 10:20:37 monitor.goroutine: status of breaker is  1
2022/05/04 10:20:37 sink: recieved from monitor 6 http://localhost:8888/1.0/api/event/test-four/3//32168
2022/05/04 10:20:47 monitor.goroutine: status of breaker is  2
2022/05/04 10:20:47 monitor.goroutine: sending signal 7 to 1 goroutines
2022/05/04 10:20:47 sink: recieved from monitor 7 http://localhost:8888/1.0/api/event/test-four/3//32168
2022/05/04 10:20:47 failed in http call invoke http://localhost:8888/1.0/api/event/test-four/3//32168 Post "http://localhost:8888/1.0/api/event/test-four/3//32168": dial tcp [::1]:8888: connect: connection refused 
2022/05/04 10:20:47 worker.goroutine: sending signal 3
2022/05/04 10:20:47 monitor.goroutine: recieved signal 3
2022/05/04 10:20:47 monitor.goroutine: status of breaker is  1
2022/05/04 10:20:47 retry in execute POST 	 http://localhost:8888/1.0/api/event/test-four/3//32168
2022/05/04 10:20:47 sink: recieved from monitor 6 http://localhost:8888/1.0/api/event/test-four/3//32168
2022/05/04 10:20:57 monitor.goroutine: status of breaker is  2
2022/05/04 10:20:57 monitor.goroutine: sending signal 7 to 1 goroutines
2022/05/04 10:20:57 sink: recieved from monitor 7 http://localhost:8888/1.0/api/event/test-four/3//32168
2022/05/04 10:20:57 failed in http call invoke http://localhost:8888/1.0/api/event/test-four/3//32168 Post "http://localhost:8888/1.0/api/event/test-four/3//32168": dial tcp [::1]:8888: connect: connection refused 
2022/05/04 10:20:57 worker.goroutine: sending signal 3
2022/05/04 10:20:57 monitor.goroutine: recieved signal 3
2022/05/04 10:20:57 monitor.goroutine: status of breaker is  1
2022/05/04 10:20:57 retry in execute POST 	 http://localhost:8888/1.0/api/event/test-four/3//32168
2022/05/04 10:20:57 sink: recieved from monitor 6 http://localhost:8888/1.0/api/event/test-four/3//32168
2022/05/04 10:21:07 monitor.goroutine: status of breaker is  2
2022/05/04 10:21:07 monitor.goroutine: sending signal 7 to 1 goroutines
2022/05/04 10:21:07 sink: recieved from monitor 7 http://localhost:8888/1.0/api/event/test-four/3//32168
2022/05/04 10:21:07 /test-four/3//32168 after http sink, status = true
2022/05/04 10:22:23 /test-four/0//34359 after kafka source
2022/05/04 10:22:23 1.goroutine: processing message &{0xc0001223c0 false false /test-four/0//34359}
2022/05/04 10:22:23 /test-four/0//34359 before http sink
2022/05/04 10:22:23 /test-four/0//34359 after http sink, status = true
2022/05/04 10:25:15 config: {myDmux [{sample_name false kafka_http map[dmux:map[batch_size:1 distributor_type:RoundRobin size:4] pending_acks:1e+06 sink:map[breaker_timeout:10s endpoint:http://localhost:8888/1.0/api/event error_threshold:2 headers:[map[name:X-Client value:go-dumx] map[name:Content-Type value:application/json]] method:POST retry_interval:100ms success_threshold:3 timeout:10s] source:map[force_restart:true kafka_version_major:2 name:source_name read_newest:true topic:test-four zk_path:localhost:2181/kafka]]}] {file map[enable_debug:true path:default.log rotation:map[compress:true retention_count:5 retention_days:90 size_in_mb:256]]}}
2022/05/04 10:25:15 Starting  kafka_http
2022/05/04 10:25:15 Connected to [::1]:2181
2022/05/04 10:25:15 Authenticated: id=72071252619558960, timeout=6000
2022/05/04 10:25:15 Re-submitting `0` credentials after reconnect
2022/05/04 10:25:30 /test-four/2//36123 after kafka source
2022/05/04 10:25:30 0.goroutine: processing message &{0xc0000ce3c0 false false /test-four/2//36123}
2022/05/04 10:25:30 /test-four/2//36123 before http sink
2022/05/04 10:25:46 Recv loop terminated: err=read tcp [::1]:63117->[::1]:2181: i/o timeout
2022/05/04 10:25:49 /test-four/2//36123 after http sink, status = true
2022/05/04 10:25:49 Send loop terminated: err=<nil>
2022/05/04 10:25:49 Connected to 127.0.0.1:2181
2022/05/04 10:25:49 Authentication failed: zk: session has been expired by the server
2022/05/04 10:25:50 Connected to [::1]:2181
2022/05/04 10:25:51 Authenticated: id=72071252619558961, timeout=6000
2022/05/04 10:25:51 Re-submitting `0` credentials after reconnect
2022/05/04 10:25:53 /test-four/3//32169 after kafka source
2022/05/04 10:25:53 1.goroutine: processing message &{0xc0001d00a0 false false /test-four/3//32169}
2022/05/04 10:25:53 /test-four/3//32169 before http sink
2022/05/04 10:26:09 /test-four/3//32169 after http sink, status = true
2022/05/04 10:26:09 Recv loop terminated: err=EOF
2022/05/04 10:26:09 Send loop terminated: err=<nil>
2022/05/04 10:26:09 Connected to 127.0.0.1:2181
2022/05/04 10:26:09 Authentication failed: zk: session has been expired by the server
2022/05/04 10:26:10 Connected to [::1]:2181
2022/05/04 10:26:10 Authenticated: id=72071252619558962, timeout=6000
2022/05/04 10:26:10 Re-submitting `0` credentials after reconnect
2022/05/04 10:26:51 Recv loop terminated: err=EOF
2022/05/04 10:26:51 Send loop terminated: err=<nil>
2022/05/04 10:26:51 Failed to connect to 127.0.0.1:2181: dial tcp 127.0.0.1:2181: connect: connection refused
2022/05/04 10:26:52 Failed to connect to [::1]:2181: dial tcp [::1]:2181: connect: connection refused
2022/05/04 10:26:52 Failed to connect to 127.0.0.1:2181: dial tcp 127.0.0.1:2181: connect: connection refused
2022/05/04 10:26:53 Failed to connect to [::1]:2181: dial tcp [::1]:2181: connect: connection refused
2022/05/04 10:26:53 Failed to connect to 127.0.0.1:2181: dial tcp 127.0.0.1:2181: connect: connection refused
2022/05/04 10:26:54 Connected to [::1]:2181
2022/05/04 10:26:54 Authenticated: id=72071252619558962, timeout=6000
2022/05/04 10:26:54 Re-submitting `0` credentials after reconnect
2022/05/04 10:27:35 config: {myDmux [{sample_name false kafka_http map[dmux:map[batch_size:1 distributor_type:RoundRobin size:4] pending_acks:1e+06 sink:map[breaker_timeout:10s endpoint:http://localhost:8888/1.0/api/event error_threshold:2 headers:[map[name:X-Client value:go-dumx] map[name:Content-Type value:application/json]] method:POST retry_interval:100ms success_threshold:3 timeout:10s] source:map[force_restart:true kafka_version_major:2 name:source_name read_newest:true topic:test-four zk_path:localhost:2181/kafka]]}] {file map[enable_debug:true path:default.log rotation:map[compress:true retention_count:5 retention_days:90 size_in_mb:256]]}}
2022/05/04 10:27:35 Starting  kafka_http
2022/05/04 10:27:35 Connected to 127.0.0.1:2181
2022/05/04 10:27:35 Authenticated: id=72078516766244866, timeout=6000
2022/05/04 10:27:35 Re-submitting `0` credentials after reconnect
2022/05/04 10:27:40 /test-four/1//29813 after kafka source
2022/05/04 10:27:40 0.goroutine: processing message &{0xc0001821e0 false false /test-four/1//29813}
2022/05/04 10:27:40 /test-four/1//29813 before http sink
2022/05/04 10:28:43 Recv loop terminated: err=read tcp 127.0.0.1:63187->127.0.0.1:2181: read: connection reset by peer
2022/05/04 10:28:43 Send loop terminated: err=write tcp 127.0.0.1:63187->127.0.0.1:2181: write: broken pipe
2022/05/04 10:28:43 Connected to [::1]:2181
2022/05/04 10:28:43 Authentication failed: zk: session has been expired by the server
2022/05/04 10:28:43 /test-four/1//29813 after http sink, status = true
2022/05/04 10:28:44 Connected to 127.0.0.1:2181
2022/05/04 10:28:44 Authenticated: id=72078516766244867, timeout=6000
2022/05/04 10:28:44 Re-submitting `0` credentials after reconnect
2022/05/04 10:28:51 config: {myDmux [{sample_name false kafka_http map[dmux:map[batch_size:1 distributor_type:RoundRobin size:4] pending_acks:1e+06 sink:map[breaker_timeout:10s endpoint:http://localhost:8888/1.0/api/event error_threshold:2 headers:[map[name:X-Client value:go-dumx] map[name:Content-Type value:application/json]] method:POST retry_interval:100ms success_threshold:3 timeout:10s] source:map[force_restart:true kafka_version_major:2 name:source_name read_newest:true topic:test-four zk_path:localhost:2181/kafka]]}] {file map[enable_debug:true path:default.log rotation:map[compress:true retention_count:5 retention_days:90 size_in_mb:256]]}}
2022/05/04 10:28:51 Starting  kafka_http
2022/05/04 10:28:51 Connected to 127.0.0.1:2181
2022/05/04 10:28:51 Authenticated: id=72078516766244868, timeout=6000
2022/05/04 10:28:51 Re-submitting `0` credentials after reconnect
2022/05/04 10:29:31 config: {myDmux [{sample_name false kafka_http map[dmux:map[batch_size:1 distributor_type:RoundRobin size:4] pending_acks:1e+06 sink:map[breaker_timeout:10s endpoint:http://localhost:8888/1.0/api/event error_threshold:2 headers:[map[name:X-Client value:go-dumx] map[name:Content-Type value:application/json]] method:POST retry_interval:100ms success_threshold:3 timeout:10s] source:map[force_restart:true kafka_version_major:2 name:source_name read_newest:true topic:test-four zk_path:localhost:2181/kafka]]}] {file map[enable_debug:true path:default.log rotation:map[compress:true retention_count:5 retention_days:90 size_in_mb:256]]}}
2022/05/04 10:29:31 Starting  kafka_http
2022/05/04 10:29:31 Connected to 127.0.0.1:2181
2022/05/04 10:29:31 Authenticated: id=72078516766244869, timeout=6000
2022/05/04 10:29:31 Re-submitting `0` credentials after reconnect
2022/05/04 10:29:42 /test-four/0//34362 after kafka source
2022/05/04 10:29:42 0.goroutine: processing message &{0xc0000ce3c0 false false /test-four/0//34362}
2022/05/04 10:29:42 /test-four/0//34362 before http sink
2022/05/04 10:29:45 failed in http call invoke http://localhost:8888/1.0/api/event/test-four/0//34362 Post "http://localhost:8888/1.0/api/event/test-four/0//34362": dial tcp [::1]:8888: connect: connection refused 
2022/05/04 10:29:45 worker.goroutine: sending signal 3
2022/05/04 10:29:45 monitor.goroutine: recieved signal 3
2022/05/04 10:29:45 retry in execute POST 	 http://localhost:8888/1.0/api/event/test-four/0//34362
2022/05/04 10:29:45 sink: recieved from monitor 7 http://localhost:8888/1.0/api/event/test-four/0//34362
2022/05/04 10:29:45 goroutine #3.goroutine:signal not processed
2022/05/04 10:29:45 goroutine #1.goroutine:signal not processed
2022/05/04 10:29:45 goroutine #2.goroutine:signal not processed
2022/05/04 10:29:45 monitor.goroutine: recieved signal 5
2022/05/04 10:29:45 monitor.goroutine: recieved signal 5
2022/05/04 10:29:45 monitor.goroutine: recieved signal 5
2022/05/04 10:29:45 failed in http call invoke http://localhost:8888/1.0/api/event/test-four/0//34362 Post "http://localhost:8888/1.0/api/event/test-four/0//34362": dial tcp [::1]:8888: connect: connection refused 
2022/05/04 10:29:45 worker.goroutine: sending signal 3
2022/05/04 10:29:45 retry in execute POST 	 http://localhost:8888/1.0/api/event/test-four/0//34362
2022/05/04 10:29:45 monitor.goroutine: recieved signal 3
2022/05/04 10:29:45 monitor.goroutine: status of breaker is  1
2022/05/04 10:29:45 sink: recieved from monitor 6 http://localhost:8888/1.0/api/event/test-four/0//34362
2022/05/04 10:29:55 monitor.goroutine: status of breaker is  2
2022/05/04 10:29:55 monitor.goroutine: sending signal 7 to 1 goroutines
2022/05/04 10:29:55 sink: recieved from monitor 7 http://localhost:8888/1.0/api/event/test-four/0//34362
2022/05/04 10:29:55 failed in http call invoke http://localhost:8888/1.0/api/event/test-four/0//34362 Post "http://localhost:8888/1.0/api/event/test-four/0//34362": dial tcp [::1]:8888: connect: connection refused 
2022/05/04 10:29:55 worker.goroutine: sending signal 3
2022/05/04 10:29:55 monitor.goroutine: recieved signal 3
2022/05/04 10:29:55 monitor.goroutine: status of breaker is  1
2022/05/04 10:29:55 retry in execute POST 	 http://localhost:8888/1.0/api/event/test-four/0//34362
2022/05/04 10:29:55 sink: recieved from monitor 6 http://localhost:8888/1.0/api/event/test-four/0//34362
2022/05/04 10:30:05 monitor.goroutine: status of breaker is  2
2022/05/04 10:30:05 monitor.goroutine: sending signal 7 to 1 goroutines
2022/05/04 10:30:05 sink: recieved from monitor 7 http://localhost:8888/1.0/api/event/test-four/0//34362
2022/05/04 10:30:05 failed in http call invoke http://localhost:8888/1.0/api/event/test-four/0//34362 Post "http://localhost:8888/1.0/api/event/test-four/0//34362": dial tcp [::1]:8888: connect: connection refused 
2022/05/04 10:30:05 worker.goroutine: sending signal 3
2022/05/04 10:30:05 retry in execute POST 	 http://localhost:8888/1.0/api/event/test-four/0//34362
2022/05/04 10:30:05 monitor.goroutine: recieved signal 3
2022/05/04 10:30:05 monitor.goroutine: status of breaker is  1
2022/05/04 10:30:05 sink: recieved from monitor 6 http://localhost:8888/1.0/api/event/test-four/0//34362
2022/05/04 10:30:15 monitor.goroutine: status of breaker is  2
2022/05/04 10:30:15 monitor.goroutine: sending signal 7 to 1 goroutines
2022/05/04 10:30:15 sink: recieved from monitor 7 http://localhost:8888/1.0/api/event/test-four/0//34362
2022/05/04 10:30:15 failed in http call invoke http://localhost:8888/1.0/api/event/test-four/0//34362 Post "http://localhost:8888/1.0/api/event/test-four/0//34362": dial tcp [::1]:8888: connect: connection refused 
2022/05/04 10:30:15 worker.goroutine: sending signal 3
2022/05/04 10:30:15 monitor.goroutine: recieved signal 3
2022/05/04 10:30:15 monitor.goroutine: status of breaker is  1
2022/05/04 10:30:15 retry in execute POST 	 http://localhost:8888/1.0/api/event/test-four/0//34362
2022/05/04 10:30:15 sink: recieved from monitor 6 http://localhost:8888/1.0/api/event/test-four/0//34362
2022/05/04 10:30:25 monitor.goroutine: status of breaker is  2
2022/05/04 10:30:25 monitor.goroutine: sending signal 7 to 1 goroutines
2022/05/04 10:30:25 sink: recieved from monitor 7 http://localhost:8888/1.0/api/event/test-four/0//34362
2022/05/04 10:30:25 worker.goroutine: sending signal 4
2022/05/04 10:30:25 /test-four/0//34362 after http sink, status = true
2022/05/04 10:30:25 monitor.goroutine: recieved signal 4
2022/05/04 10:31:04 /test-four/2//36125 after kafka source
2022/05/04 10:31:04 1.goroutine: processing message &{0xc001218140 false false /test-four/2//36125}
2022/05/04 10:31:04 /test-four/2//36125 before http sink
2022/05/04 10:31:04 worker.goroutine: sending signal 4
2022/05/04 10:31:04 /test-four/2//36125 after http sink, status = true
2022/05/04 10:31:04 monitor.goroutine: recieved signal 4
2022/05/04 10:31:52 /test-four/0//34363 after kafka source
2022/05/04 10:31:52 2.goroutine: processing message &{0xc0000ce3c0 false false /test-four/0//34363}
2022/05/04 10:31:52 /test-four/0//34363 before http sink
2022/05/04 10:32:03 Recv loop terminated: err=EOF
2022/05/04 10:32:03 Send loop terminated: err=<nil>
2022/05/04 10:32:03 Connected to [::1]:2181
2022/05/04 10:32:03 Authentication failed: zk: session has been expired by the server
2022/05/04 10:32:04 worker.goroutine: sending signal 4
2022/05/04 10:32:04 /test-four/0//34363 after http sink, status = true
2022/05/04 10:32:04 monitor.goroutine: recieved signal 4
2022/05/04 10:32:04 monitor.goroutine: status of breaker is  0
2022/05/04 10:32:04 Connected to 127.0.0.1:2181
2022/05/04 10:32:04 Authenticated: id=72078516766244870, timeout=6000
2022/05/04 10:32:04 Re-submitting `0` credentials after reconnect
2022/05/04 10:32:22 /test-four/1//29814 after kafka source
2022/05/04 10:32:22 3.goroutine: processing message &{0xc001218140 false false /test-four/1//29814}
2022/05/04 10:32:22 /test-four/1//29814 before http sink
2022/05/04 10:32:22 failed in http call invoke http://localhost:8888/1.0/api/event/test-four/1//29814 Post "http://localhost:8888/1.0/api/event/test-four/1//29814": dial tcp [::1]:8888: connect: connection refused 
2022/05/04 10:32:22 worker.goroutine: sending signal 3
2022/05/04 10:32:22 retry in execute POST 	 http://localhost:8888/1.0/api/event/test-four/1//29814
2022/05/04 10:32:22 monitor.goroutine: recieved signal 3
2022/05/04 10:32:22 goroutine #2.goroutine:signal not processed
2022/05/04 10:32:22 goroutine #0.goroutine:signal not processed
2022/05/04 10:32:22 goroutine #1.goroutine:signal not processed
2022/05/04 10:32:22 sink: recieved from monitor 7 http://localhost:8888/1.0/api/event/test-four/1//29814
2022/05/04 10:32:22 monitor.goroutine: recieved signal 5
2022/05/04 10:32:22 monitor.goroutine: recieved signal 5
2022/05/04 10:32:22 monitor.goroutine: recieved signal 5
2022/05/04 10:32:22 failed in http call invoke http://localhost:8888/1.0/api/event/test-four/1//29814 Post "http://localhost:8888/1.0/api/event/test-four/1//29814": dial tcp [::1]:8888: connect: connection refused 
2022/05/04 10:32:22 worker.goroutine: sending signal 3
2022/05/04 10:32:22 retry in execute POST 	 http://localhost:8888/1.0/api/event/test-four/1//29814
2022/05/04 10:32:22 monitor.goroutine: recieved signal 3
2022/05/04 10:32:22 monitor.goroutine: status of breaker is  1
2022/05/04 10:32:22 sink: recieved from monitor 6 http://localhost:8888/1.0/api/event/test-four/1//29814
2022/05/04 10:32:32 monitor.goroutine: status of breaker is  2
2022/05/04 10:32:32 monitor.goroutine: sending signal 7 to 1 goroutines
2022/05/04 10:32:32 goroutine #0.goroutine:signal not processed
2022/05/04 10:32:32 monitor.goroutine: recieved signal 5
2022/05/04 10:32:32 monitor.goroutine: sending signal 7 to 2 goroutines
2022/05/04 10:32:32 goroutine #1.goroutine:signal not processed
2022/05/04 10:32:32 goroutine #0.goroutine:signal not processed
2022/05/04 10:32:32 monitor.goroutine: recieved signal 5
2022/05/04 10:32:32 monitor.goroutine: recieved signal 5
2022/05/04 10:32:32 monitor.goroutine: sending signal 7 to 4 goroutines
2022/05/04 10:32:32 goroutine #2.goroutine:signal not processed
2022/05/04 10:32:32 goroutine #1.goroutine:signal not processed
2022/05/04 10:32:32 sink: recieved from monitor 7 http://localhost:8888/1.0/api/event/test-four/1//29814
2022/05/04 10:32:32 goroutine #0.goroutine:signal not processed
2022/05/04 10:32:32 monitor.goroutine: recieved signal 5
2022/05/04 10:32:32 monitor.goroutine: recieved signal 5
2022/05/04 10:32:32 monitor.goroutine: recieved signal 5
2022/05/04 10:32:32 failed in http call invoke http://localhost:8888/1.0/api/event/test-four/1//29814 Post "http://localhost:8888/1.0/api/event/test-four/1//29814": dial tcp [::1]:8888: connect: connection refused 
2022/05/04 10:32:32 worker.goroutine: sending signal 3
2022/05/04 10:32:32 monitor.goroutine: recieved signal 3
2022/05/04 10:32:32 monitor.goroutine: status of breaker is  1
2022/05/04 10:32:32 retry in execute POST 	 http://localhost:8888/1.0/api/event/test-four/1//29814
2022/05/04 10:32:32 sink: recieved from monitor 6 http://localhost:8888/1.0/api/event/test-four/1//29814
2022/05/04 10:32:42 monitor.goroutine: status of breaker is  2
2022/05/04 10:32:42 monitor.goroutine: sending signal 7 to 1 goroutines
2022/05/04 10:32:42 goroutine #0.goroutine:signal not processed
2022/05/04 10:32:42 monitor.goroutine: recieved signal 5
2022/05/04 10:32:42 monitor.goroutine: sending signal 7 to 2 goroutines
2022/05/04 10:32:42 goroutine #1.goroutine:signal not processed
2022/05/04 10:32:42 goroutine #0.goroutine:signal not processed
2022/05/04 10:32:42 monitor.goroutine: recieved signal 5
2022/05/04 10:32:42 monitor.goroutine: recieved signal 5
2022/05/04 10:32:42 monitor.goroutine: sending signal 7 to 4 goroutines
2022/05/04 10:32:42 goroutine #2.goroutine:signal not processed
2022/05/04 10:32:42 goroutine #0.goroutine:signal not processed
2022/05/04 10:32:42 sink: recieved from monitor 7 http://localhost:8888/1.0/api/event/test-four/1//29814
2022/05/04 10:32:42 goroutine #1.goroutine:signal not processed
2022/05/04 10:32:42 monitor.goroutine: recieved signal 5
2022/05/04 10:32:42 monitor.goroutine: recieved signal 5
2022/05/04 10:32:42 monitor.goroutine: recieved signal 5
2022/05/04 10:32:42 failed in http call invoke http://localhost:8888/1.0/api/event/test-four/1//29814 Post "http://localhost:8888/1.0/api/event/test-four/1//29814": dial tcp [::1]:8888: connect: connection refused 
2022/05/04 10:32:42 worker.goroutine: sending signal 3
2022/05/04 10:32:42 monitor.goroutine: recieved signal 3
2022/05/04 10:32:42 monitor.goroutine: status of breaker is  1
2022/05/04 10:32:42 retry in execute POST 	 http://localhost:8888/1.0/api/event/test-four/1//29814
2022/05/04 10:32:42 sink: recieved from monitor 6 http://localhost:8888/1.0/api/event/test-four/1//29814
